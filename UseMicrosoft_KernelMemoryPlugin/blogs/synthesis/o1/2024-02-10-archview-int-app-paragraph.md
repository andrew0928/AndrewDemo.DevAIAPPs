## 段落1, 「安德魯小舖」的進化  
本段概述作者從先前的「安德魯小舖 GPTs」構想出發，思考如何逐步將LLM功能導入應用程式。首先點出AI改變了人們對軟體操作與開發流程的期待，並以「安德魯小舖」作為範例，提出未來五年內商業服務可能的演進方向。作者將此演進分為四大階段：第一，一般的操作模式作為基礎；第二，在關鍵環節（如結帳）納入AI評估，以自然語言推論顧客意圖並提示風險；第三，持續追蹤使用者操作，提供即時建議與輔助；第四，透過對話式互動讓AI主動執行功能。作者同時提出技術所面臨的核心挑戰，例如算力不足、使用者訂閱門檻、可靠度與效能等，認為現階段比較務實的做法，是在既有架構裡先融入可行的部分AI功能，讓應用程式逐漸「智慧化」，再逐步擴大與深化AI的應用層面，這也是本文接下來各小節所闡述的方向。

## 段落2, 標準的操作模式 (對照組)  
在此，作者以純選單式或Console操作為範例，模擬最基礎的應用程式流程。依序顯示商品清單、加入購物車、結帳及列出交易紀錄等步驟，都採「指令+參數」的形式進行。雖然體驗上類似傳統的功能型手機選單或早期Chatbot，但這種操作能讓人清楚看到在還沒融入AI時，應用程式最基本的運作結構，也可作為之後加入智慧功能的參考對照。作者強調，這種結構中，一切都依賴明確的API呼叫，語意理解並未涉及任何AI推理，因而本質上無法針對人類語句的複雜變化做分析。此對照組作為衡量標準，一方面能看出缺點，也能顯示AI若能理解語意，其實可為使用者帶來更自然且彈性的互動體驗。

## 段落3, 從操作意圖評估風險  
本段介紹如何在關鍵功能（如結帳）執行時，利用LLM進行「語意分析+邏輯推理」，給出個人化建議或風險提示。例如顧客要結帳時，系統先將購物品項與使用者的需求描述統整成Prompt，再以System Prompt設計「店長」人格，明確規範他的檢查步驟與回應形式。LLM收到Prompt後，可歸納出法律限制（例如購買酒精飲料之年齡要求）與健康風險（含糖、含咖啡因飲品）等提示，並以「OK」或「HINT」做簡潔回應。此時使用者雖仍在傳統介面中手動下指令，但在結帳的關鍵動作多了一層智慧把關，能大幅提升操作流程的安全性與正確性，也證明LLM若透過適當Prompt工程，就能針對目標任務發揮推理與彙整能力。

## 段落4, 操作過程中全程輔助  
本段延伸前面概念，進一步讓AI在每一步使用者操作時都「默默地」接收訊息，並即時做出提示。作者以「ChatGPT Copilot」的想法為靈感，當使用者多次加入、移除商品等操作，LLM會發現操作異常並適時提醒。如有人重複進出選單太多次，或購物車中商品數量過高，都可能誘發AI介入給出建議。技術上，系統會將每次操作封裝成「我已進行操作: XXX」的Prompt給LLM，並維持简短敘述，將回應分為「OK」和「HINT」。這種做法雖單純，但能讓程式框架在每個環節都能取得AI回饋。對於使用者來說，他得到的不只是被動查詢，而是隨時有人（AI）在「看」並且主動「提點」的互動模式，讓操作體驗更貼近真實世界的夥伴式關係。

## 段落5, 允許透過對話，由AI代為操作  
進一步的一步是讓AI能主動呼叫應用程式中的API，這裡作者展示了自然語言對話即可完成購物流程的PoC。該過程中，LLM首先解讀使用者的話，決定要呼叫什麼方法（例如「加入某商品」「列出購物車內容」等），之後再依序執行多個函式。範例顯示，使用者稱「預算1000元，想買啤酒和可樂各10罐，剩下預算買綠茶並確認購物車」，LLM就能自行匹配商品ID、依商品單價計算數量並呼叫API。最終還會整理執行結果推回給使用者。這證明LLM在語意理解達一定水準後，去映射出對應的程式功能確實可行。作者也對比在ChatGPT平台上的GPTs CustomActions，認為無論在哪一端，只要LLM有API可呼，就能滿足對話式操作的想像。

## 段落6, 探索LLM應用的系統架構與開發框架  
此段先以Microsoft Semantic Kernel的「Agent發展階段」圖示為主軸，說明LLM應用開發從Chatbot到RAG、Copilot再到Fullyautonomous的演進，也呼應作者在「安德魯小舖」的四階段示範：先有基礎對答或選單式，再融入檢索增強知識、再做到對操作全程輔助，最終能對話式自主呼叫API。作者指出，在應用層面需關切技術與工程層面的實踐，包括保證Prompt品質及控制LLM幻覺、搭配向量資料庫實現RAG檢索等，同時也要考量企業營運對AI資源與算力的需求。此外，他建議在開發過程保持降級思考，先验证該不該做，再解決怎麼做，讓技術選型更符合產品需求。

## 段落7, 加上「智慧」的設計框架 (2-1)  
作者解釋，若把LLM視為「大腦」，則短期記憶可由ChatHistory維護，長期記憶則可用RAG與向量資料庫。這在系統中代表新需求：需要記錄當前對話或上下文，以協助LLM回顧先前敘述，並在大範圍文本資訊中，透過檢索增強生成（RAG）取得正確知識。藉由這樣的設計框架，AI不再只能進行片段式回答，而能根據對話階段、技能需求、人物設定等多重面向，給出更精準且具有上下文連貫的回應。作者特別強調在企業應用落地時，對於「哪種資訊應該被AI拿到、是如何被向量化與檢索」相當重要，以確保隱私、安全與正確性。

## 段落8, LLM + 短期記憶 (聰明) (2-2)  
本段聚焦LLM缺乏內在狀態，需要以ChatHistory彌補的機制。若每次對話都要重新提供完整Prompt，成本會很高。因此利用對話紀錄，系統可以有選擇地將先前訊息帶入，讓LLM在答案中保持前後文的一致感。作者舉例，安德魯小舖在一次購物流程中，會持續累加用戶意圖、購物清單等文字訊息到Prompt，以便AI能記得前面對話，做出合適的建議。這個設計相當於「短期記憶」，讓AI暫時握有足夠的上下文信息，在一次會話階段內協助使用者。此作法簡單有效，但也得權衡Token消耗與學習效能。

## 段落9, RAG，長期記憶 (智慧) (2-3)  
若僅靠Prompt拼貼訊息恐成本高昂，這時RAG成為提高效率的關鍵。作者提到，RAG透過Embedding將文本向量化後儲存在向量資料庫，詢問問題時先以Embedding搜尋相似資訊作為上下文，再交由LLM生成答案。如此可延伸LLM到更多領域知識，也避免因Token限制而無法載入大量背景資料。相較於傳統NLP或Chatbot僅可在固定知識庫內做檢索，RAG結合LLM的語意理解能力，大幅提高了回應的精準度與動態適應度。對企業來說，把技術規範、FAQ或KMS文檔納入RAG，可讓AI回應「有根據」，也降低幻覺發生。

## 段落10, Skills（才能）(2-4) 與Persona（人格）(2-5)  
作者將LLM執行外部任務的能力稱為「Skills」，實務上則是透過FunctionCalling或Plugins機制，描述技能所需的參數、輸入輸出格式和說明，使LLM能根據語意主動呼叫這些方法。例如在購物場景中，LLM要能懂得使用「加入購物車」「結帳」等函式，才能幫使用者完成動作。至於人格設定（Persona），則影響LLM回答時的口吻、風格與立場，類似將基礎指令或規範寫入SystemPrompt，或讓AI根據使用者的個人資料進行更密切的回答。這些設計都為AI「賦予角色」並限定行為範圍，確保在多元情境能維持一致的應用邏輯。

## 段落11, 開發框架全貌 (2-6) 與未來發展 (3)  
作者結合上述元素，說明SemanticKernel或類似框架如何提供接合點：LLM作核心語言處理，短期記憶與RAG作上下文維護，Skills與FunctionCalling提供操作能力，Persona則規範AI的行為。框架將這些抽象化後，開發者就能快速拓展或更換模型、資料庫與外部API。展望未來，作者認為AI生成與執行程式的能力將持續增強，人類或許會更多靠「Prompt工程」來驅動整個應用程式邏輯。現階段的瓶頸在算力、可預測性與工程成本，但整體坡度看似不可逆。作者指出從SmallTalk等昔日語言變革能窺見歷史軌跡，預期十年內，大規模自然語言編程與開發模式正急速閉合成形。對架構師與工程師而言，關鍵在看清並把握這場變革的核心思維與實踐路線。